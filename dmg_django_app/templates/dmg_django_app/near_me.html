{% extends "dmg_django_app/base.html" %}

{% load static %}

{% block content %}
<div class="p-4 bg-success rounded">
    <h1 class="text-body-emphasis">Supermarket Locator</h1>
    <p>Out of the five supermarkets, find out which ones are near your location.</p>
</div>
<div class="map-wrapper align-content-center">
    <iframe
        class="py-3 mx-auto"
        width="1000"
        height="600"
        frameborder="0"
        referrerpolicy="no-referrer-when-downgrade"
        src="{{ source }}"
        allowfullscreen>
    </iframe>
</div>

{% endblock %}

{% block scripts %}
<script>
    function getLocation() {
        if(navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(relayPosition);
        }
        else {
            console.log("Geolocation is not supported by the browser.");
        }
    }

    function relayPosition(position) {
        console.log("Current Latitude: "+position.coords.latitude);
        console.log("Current longitude: "+position.coords.longitude);
    }
</script>