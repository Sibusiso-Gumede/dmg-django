{% extends "dmg_django_app/base.html" %}

{% load static %}

{% block content %}
<div class="results-container text-black" style="min-height:750px">
{% if supermarkets.keys %}
    {% for supermarket, products in supermarkets.items %}
    <h2>{{ supermarket }}</h2>
    <table class="supermarket-products">
        <thead>
            <tr>
                <th class="product-image"></th>
                <th class="product-details"></th>
            </tr>
        </thead>
        <tbody>
            {% for title, data in products.items %}
            <tr class="product-list">
                <td>
                    <div class="product-image">
                        <img src="data:image/png;base64, {{ data.image }}" style="width:80px;height:80px;">
                    </div>
                </td>
                <td>          
                    <div class="product-details d-inline-flex">
                        <div><p class="product-title">{{ title }}</p></div>
                        <div><p class="product-price">{{ data.price }}</p></div>
                    </div>
                </td>
            </tr>    
            {% endfor %}
        </tbody>
    </table>
    {% endfor %}
{% elif not supermarkets.keys %}
    <div class="response-text p-5">
        <div style="height:100vh">
            <h1>No matching items found.</h1>
        </div>
    </div>
{% endif %}
</div>

{% endblock %}